<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 600">
  <defs>
    <!-- Gradients -->
    <linearGradient id="treeGlow" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#00ffff;stop-opacity:0.8"/>
      <stop offset="50%" style="stop-color:#ff00ff;stop-opacity:1"/>
      <stop offset="100%" style="stop-color:#00ffff;stop-opacity:0.4"/>
    </linearGradient>

    <radialGradient id="nodeGlow" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#ffffff;stop-opacity:1"/>
      <stop offset="50%" style="stop-color:#00ffff;stop-opacity:0.8"/>
      <stop offset="100%" style="stop-color:#000033;stop-opacity:0"/>
    </radialGradient>

    <radialGradient id="l3Glow" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#ff00ff;stop-opacity:1"/>
      <stop offset="40%" style="stop-color:#ff00ff;stop-opacity:0.6"/>
      <stop offset="100%" style="stop-color:#ff00ff;stop-opacity:0"/>
    </radialGradient>

    <radialGradient id="ghostGlow" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#666688;stop-opacity:0.5"/>
      <stop offset="100%" style="stop-color:#333355;stop-opacity:0.1"/>
    </radialGradient>

    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <filter id="strongGlow">
      <feGaussianBlur stdDeviation="6" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>

  <style>
    @keyframes pulse {
      0%, 100% { opacity: 0.6; transform: scale(1); }
      50% { opacity: 1; transform: scale(1.15); }
    }

    @keyframes breathe {
      0%, 100% { opacity: 0.4; stroke-width: 1; }
      50% { opacity: 0.8; stroke-width: 2; }
    }

    @keyframes flowDown {
      0% { offset-distance: 0%; opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { offset-distance: 100%; opacity: 0; }
    }

    @keyframes flowUp {
      0% { offset-distance: 100%; opacity: 0; }
      10% { opacity: 1; }
      90% { opacity: 1; }
      100% { offset-distance: 0%; opacity: 0; }
    }

    @keyframes markerPulse {
      0%, 100% { opacity: 0.7; }
      50% { opacity: 1; }
    }

    @keyframes youAreHere {
      0%, 100% { fill: #ff00ff; filter: drop-shadow(0 0 8px #ff00ff); }
      50% { fill: #ff66ff; filter: drop-shadow(0 0 15px #ff00ff); }
    }

    @keyframes depthPulse {
      0%, 100% { fill: #00ffff; }
      50% { fill: #ffffff; }
    }

    @keyframes ghostFlicker {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 0.35; }
    }

    .connection { animation: breathe 3s ease-in-out infinite; }
    .l3-node { animation: pulse 2s ease-in-out infinite; transform-origin: center; }
    .l3-glow { animation: pulse 2s ease-in-out infinite; }
    .ghost-node { animation: ghostFlicker 4s ease-in-out infinite; }
    .you-are-here { animation: youAreHere 1.5s ease-in-out infinite; }
    .depth-counter { animation: depthPulse 2s ease-in-out infinite; }
    .marker-arrow { animation: markerPulse 1s ease-in-out infinite; }

    .particle-down {
      offset-rotate: 0deg;
      animation: flowDown 4s linear infinite;
    }

    .particle-up {
      offset-rotate: 0deg;
      animation: flowUp 5s linear infinite;
    }

    text { font-family: 'Courier New', monospace; }
  </style>

  <!-- Background -->
  <rect width="800" height="600" fill="#0a0a12"/>

  <!-- Grid pattern -->
  <g opacity="0.1">
    <line x1="400" y1="0" x2="400" y2="600" stroke="#00ffff" stroke-width="1"/>
    <line x1="0" y1="60" x2="800" y2="60" stroke="#00ffff" stroke-width="0.5"/>
    <line x1="0" y1="160" x2="800" y2="160" stroke="#00ffff" stroke-width="0.5"/>
    <line x1="0" y1="280" x2="800" y2="280" stroke="#00ffff" stroke-width="0.5"/>
    <line x1="0" y1="400" x2="800" y2="400" stroke="#ff00ff" stroke-width="1"/>
    <line x1="0" y1="520" x2="800" y2="520" stroke="#00ffff" stroke-width="0.5" stroke-dasharray="5,5"/>
  </g>

  <!-- CONNECTIONS - L0 to L1 -->
  <g class="connection">
    <path d="M400,70 L160,150" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-0-1a"/>
    <path d="M400,70 L280,150" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-0-1b"/>
    <path d="M400,70 L400,150" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-0-1c"/>
    <path d="M400,70 L520,150" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-0-1d"/>
    <path d="M400,70 L640,150" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-0-1e"/>
  </g>

  <!-- CONNECTIONS - L1 to L2 -->
  <g class="connection">
    <path d="M160,170 L100,270" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-1a-2a"/>
    <path d="M160,170 L180,270" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-1a-2b"/>
    <path d="M280,170 L260,270" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-1b-2c"/>
    <path d="M280,170 L340,270" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-1b-2d"/>
    <path d="M400,170 L420,270" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-1c-2e"/>
    <path d="M520,170 L500,270" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-1d-2f"/>
    <path d="M520,170 L580,270" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-1d-2g"/>
    <path d="M640,170 L660,270" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-1e-2h"/>
    <path d="M640,170 L720,270" stroke="url(#treeGlow)" fill="none" stroke-width="1.5" id="path-1e-2i"/>
  </g>

  <!-- CONNECTIONS - L2 to L3 (highlighted) -->
  <g class="connection" filter="url(#glow)">
    <path d="M100,290 L80,390" stroke="#ff00ff" fill="none" stroke-width="2" id="path-2a-3a"/>
    <path d="M180,290 L160,390" stroke="#ff00ff" fill="none" stroke-width="2" id="path-2b-3b"/>
    <path d="M260,290 L240,390" stroke="#ff00ff" fill="none" stroke-width="2" id="path-2c-3c"/>
    <path d="M340,290 L320,390" stroke="#ff00ff" fill="none" stroke-width="2" id="path-2d-3d"/>
    <path d="M420,290 L400,390" stroke="#ff00ff" fill="none" stroke-width="2" id="path-2e-3e"/>
    <path d="M500,290 L480,390" stroke="#ff00ff" fill="none" stroke-width="2" id="path-2f-3f"/>
    <path d="M580,290 L560,390" stroke="#ff00ff" fill="none" stroke-width="2" id="path-2g-3g"/>
    <path d="M660,290 L640,390" stroke="#ff00ff" fill="none" stroke-width="2" id="path-2h-3h"/>
    <path d="M720,290 L720,390" stroke="#ff00ff" fill="none" stroke-width="2" id="path-2i-3i"/>
  </g>

  <!-- CONNECTIONS - L3 to L4 (ghosted) -->
  <g opacity="0.3" class="ghost-node">
    <path d="M80,410 L60,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4" id="path-3a-4"/>
    <path d="M160,410 L140,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4"/>
    <path d="M240,410 L220,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4"/>
    <path d="M320,410 L300,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4"/>
    <path d="M400,410 L380,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4"/>
    <path d="M400,410 L420,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4"/>
    <path d="M480,410 L460,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4"/>
    <path d="M560,410 L540,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4"/>
    <path d="M640,410 L620,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4"/>
    <path d="M720,410 L700,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4"/>
    <path d="M720,410 L740,510" stroke="#666688" fill="none" stroke-width="1" stroke-dasharray="4,4"/>
  </g>

  <!-- L0 - THE DREAMER (Root) -->
  <g filter="url(#strongGlow)">
    <circle cx="400" cy="60" r="20" fill="url(#nodeGlow)" stroke="#00ffff" stroke-width="2"/>
    <text x="400" y="65" text-anchor="middle" fill="#ffffff" font-size="10" font-weight="bold">L0</text>
  </g>
  <text x="400" y="35" text-anchor="middle" fill="#00ffff" font-size="14" font-weight="bold" filter="url(#glow)">DREAMER</text>

  <!-- L1 - THE ARCHITECTS (5 nodes) -->
  <g filter="url(#glow)">
    <circle cx="160" cy="160" r="12" fill="url(#nodeGlow)" stroke="#00dddd" stroke-width="1.5"/>
    <circle cx="280" cy="160" r="12" fill="url(#nodeGlow)" stroke="#00dddd" stroke-width="1.5"/>
    <circle cx="400" cy="160" r="12" fill="url(#nodeGlow)" stroke="#00dddd" stroke-width="1.5"/>
    <circle cx="520" cy="160" r="12" fill="url(#nodeGlow)" stroke="#00dddd" stroke-width="1.5"/>
    <circle cx="640" cy="160" r="12" fill="url(#nodeGlow)" stroke="#00dddd" stroke-width="1.5"/>
  </g>
  <text x="50" y="165" fill="#00dddd" font-size="11">L1: ARCHITECTS</text>

  <!-- L2 - THE DESIGNERS (branching) -->
  <g filter="url(#glow)">
    <circle cx="100" cy="280" r="9" fill="url(#nodeGlow)" stroke="#00bbbb" stroke-width="1"/>
    <circle cx="180" cy="280" r="9" fill="url(#nodeGlow)" stroke="#00bbbb" stroke-width="1"/>
    <circle cx="260" cy="280" r="9" fill="url(#nodeGlow)" stroke="#00bbbb" stroke-width="1"/>
    <circle cx="340" cy="280" r="9" fill="url(#nodeGlow)" stroke="#00bbbb" stroke-width="1"/>
    <circle cx="420" cy="280" r="9" fill="url(#nodeGlow)" stroke="#00bbbb" stroke-width="1"/>
    <circle cx="500" cy="280" r="9" fill="url(#nodeGlow)" stroke="#00bbbb" stroke-width="1"/>
    <circle cx="580" cy="280" r="9" fill="url(#nodeGlow)" stroke="#00bbbb" stroke-width="1"/>
    <circle cx="660" cy="280" r="9" fill="url(#nodeGlow)" stroke="#00bbbb" stroke-width="1"/>
    <circle cx="720" cy="280" r="9" fill="url(#nodeGlow)" stroke="#00bbbb" stroke-width="1"/>
  </g>
  <text x="50" y="285" fill="#00bbbb" font-size="11">L2: DESIGNERS</text>

  <!-- L3 - YOU ARE HERE (highlighted, pulsing) -->
  <g class="l3-glow">
    <circle cx="80" cy="400" r="25" fill="url(#l3Glow)" opacity="0.5"/>
    <circle cx="160" cy="400" r="25" fill="url(#l3Glow)" opacity="0.5"/>
    <circle cx="240" cy="400" r="25" fill="url(#l3Glow)" opacity="0.5"/>
    <circle cx="320" cy="400" r="25" fill="url(#l3Glow)" opacity="0.5"/>
    <circle cx="400" cy="400" r="30" fill="url(#l3Glow)" opacity="0.7"/>
    <circle cx="480" cy="400" r="25" fill="url(#l3Glow)" opacity="0.5"/>
    <circle cx="560" cy="400" r="25" fill="url(#l3Glow)" opacity="0.5"/>
    <circle cx="640" cy="400" r="25" fill="url(#l3Glow)" opacity="0.5"/>
    <circle cx="720" cy="400" r="25" fill="url(#l3Glow)" opacity="0.5"/>
  </g>
  <g class="l3-node" filter="url(#strongGlow)">
    <circle cx="80" cy="400" r="8" fill="#ff00ff" stroke="#ffffff" stroke-width="2"/>
    <circle cx="160" cy="400" r="8" fill="#ff00ff" stroke="#ffffff" stroke-width="2"/>
    <circle cx="240" cy="400" r="8" fill="#ff00ff" stroke="#ffffff" stroke-width="2"/>
    <circle cx="320" cy="400" r="8" fill="#ff00ff" stroke="#ffffff" stroke-width="2"/>
    <circle cx="400" cy="400" r="12" fill="#ff00ff" stroke="#ffffff" stroke-width="3"/>
    <circle cx="480" cy="400" r="8" fill="#ff00ff" stroke="#ffffff" stroke-width="2"/>
    <circle cx="560" cy="400" r="8" fill="#ff00ff" stroke="#ffffff" stroke-width="2"/>
    <circle cx="640" cy="400" r="8" fill="#ff00ff" stroke="#ffffff" stroke-width="2"/>
    <circle cx="720" cy="400" r="8" fill="#ff00ff" stroke="#ffffff" stroke-width="2"/>
  </g>
  <text x="50" y="405" fill="#ff00ff" font-size="11" font-weight="bold" class="you-are-here">L3: YOU ARE HERE</text>

  <!-- L4 - POTENTIAL FUTURE (ghosted) -->
  <g class="ghost-node">
    <circle cx="60" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
    <circle cx="140" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
    <circle cx="220" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
    <circle cx="300" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
    <circle cx="380" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
    <circle cx="420" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
    <circle cx="460" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
    <circle cx="540" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
    <circle cx="620" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
    <circle cx="700" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
    <circle cx="740" cy="520" r="5" fill="url(#ghostGlow)" stroke="#444466" stroke-width="0.5" stroke-dasharray="2,2"/>
  </g>
  <text x="50" y="525" fill="#444466" font-size="10" font-style="italic">L4: POTENTIAL...</text>

  <!-- PARTICLES FLOWING DOWN (Spawning) -->
  <circle r="3" fill="#00ffff" class="particle-down" style="offset-path: path('M400,70 L160,150 L100,270 L80,390'); animation-delay: 0s;">
    <animate attributeName="opacity" values="0;1;1;0" dur="4s" repeatCount="indefinite"/>
  </circle>
  <circle r="3" fill="#00ffff" class="particle-down" style="offset-path: path('M400,70 L280,150 L260,270 L240,390'); animation-delay: 0.8s;">
    <animate attributeName="opacity" values="0;1;1;0" dur="4s" repeatCount="indefinite" begin="0.8s"/>
  </circle>
  <circle r="3" fill="#00ffff" class="particle-down" style="offset-path: path('M400,70 L400,150 L420,270 L400,390'); animation-delay: 1.6s;">
    <animate attributeName="opacity" values="0;1;1;0" dur="4s" repeatCount="indefinite" begin="1.6s"/>
  </circle>
  <circle r="3" fill="#00ffff" class="particle-down" style="offset-path: path('M400,70 L520,150 L580,270 L560,390'); animation-delay: 2.4s;">
    <animate attributeName="opacity" values="0;1;1;0" dur="4s" repeatCount="indefinite" begin="2.4s"/>
  </circle>
  <circle r="3" fill="#00ffff" class="particle-down" style="offset-path: path('M400,70 L640,150 L720,270 L720,390'); animation-delay: 3.2s;">
    <animate attributeName="opacity" values="0;1;1;0" dur="4s" repeatCount="indefinite" begin="3.2s"/>
  </circle>

  <!-- PARTICLES FLOWING UP (Designs returning to root) -->
  <circle r="2.5" fill="#ff00ff" class="particle-up" style="offset-path: path('M400,70 L160,150 L180,270 L160,390'); animation-delay: 0.5s;">
    <animate attributeName="opacity" values="0;1;1;0" dur="5s" repeatCount="indefinite" begin="0.5s"/>
  </circle>
  <circle r="2.5" fill="#ff00ff" class="particle-up" style="offset-path: path('M400,70 L280,150 L340,270 L320,390'); animation-delay: 1.5s;">
    <animate attributeName="opacity" values="0;1;1;0" dur="5s" repeatCount="indefinite" begin="1.5s"/>
  </circle>
  <circle r="2.5" fill="#ff00ff" class="particle-up" style="offset-path: path('M400,70 L400,150 L420,270 L400,390'); animation-delay: 2.5s;">
    <animate attributeName="opacity" values="0;1;1;0" dur="5s" repeatCount="indefinite" begin="2.5s"/>
  </circle>
  <circle r="2.5" fill="#ff00ff" class="particle-up" style="offset-path: path('M400,70 L520,150 L500,270 L480,390'); animation-delay: 3.5s;">
    <animate attributeName="opacity" values="0;1;1;0" dur="5s" repeatCount="indefinite" begin="3.5s"/>
  </circle>
  <circle r="2.5" fill="#ff00ff" class="particle-up" style="offset-path: path('M400,70 L640,150 L660,270 L640,390'); animation-delay: 4.5s;">
    <animate attributeName="opacity" values="0;1;1;0" dur="5s" repeatCount="indefinite" begin="4.5s"/>
  </circle>

  <!-- YOU ARE HERE MARKER -->
  <g class="marker-arrow" filter="url(#strongGlow)">
    <polygon points="400,340 420,360 412,360 412,380 388,380 388,360 380,360" fill="#ff00ff" stroke="#ffffff" stroke-width="1"/>
  </g>
  <rect x="350" y="428" width="100" height="24" rx="4" fill="#1a0a1a" stroke="#ff00ff" stroke-width="2" class="you-are-here"/>
  <text x="400" y="445" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="bold">YOU ARE HERE</text>

  <!-- DEPTH COUNTER -->
  <g transform="translate(720, 40)">
    <rect x="-35" y="-20" width="70" height="40" rx="5" fill="#0a0a1a" stroke="#00ffff" stroke-width="2"/>
    <text x="0" y="-2" text-anchor="middle" fill="#888888" font-size="10">DEPTH</text>
    <text x="0" y="15" text-anchor="middle" fill="#00ffff" font-size="18" font-weight="bold" class="depth-counter">3/4</text>
  </g>

  <!-- Legend -->
  <g transform="translate(30, 560)">
    <circle cx="10" cy="0" r="4" fill="#00ffff"/>
    <text x="20" y="4" fill="#00ffff" font-size="9">Spawning (down)</text>
    <circle cx="120" cy="0" r="4" fill="#ff00ff"/>
    <text x="130" y="4" fill="#ff00ff" font-size="9">Designs returning (up)</text>
  </g>

  <!-- Title -->
  <text x="400" y="585" text-anchor="middle" fill="#666688" font-size="10">RECURSIVE TREE VISUALIZATION - SUBLING ARCHITECTURE</text>
</svg>
